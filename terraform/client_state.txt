# aws_cognito_user_pool_client.app_client:
resource "aws_cognito_user_pool_client" "app_client" {
    access_token_validity                         = 24
    allowed_oauth_flows                           = [
        "code",
        "implicit",
    ]
    allowed_oauth_flows_user_pool_client          = true
    allowed_oauth_scopes                          = [
        "aws.cognito.signin.user.admin",
        "email",
        "openid",
        "profile",
    ]
    auth_session_validity                         = 3
    callback_urls                                 = [
        "http://localhost:5173/callback",
        "https://d2lmqwi5ye891h.cloudfront.net/callback",
    ]
    client_secret                                 = (sensitive value)
    default_redirect_uri                          = [90mnull[0m[0m
    enable_propagate_additional_user_context_data = false
    enable_token_revocation                       = true
    explicit_auth_flows                           = [
        "ALLOW_ADMIN_USER_PASSWORD_AUTH",
        "ALLOW_REFRESH_TOKEN_AUTH",
        "ALLOW_USER_PASSWORD_AUTH",
        "ALLOW_USER_SRP_AUTH",
    ]
    generate_secret                               = false
    id                                            = "67vhj24nj2b0rrtvhppevv9its"
    id_token_validity                             = 24
    logout_urls                                   = [
        "http://localhost:5173/",
        "https://d2lmqwi5ye891h.cloudfront.net/",
    ]
    name                                          = "dev-safemate-client"
    prevent_user_existence_errors                 = "ENABLED"
    read_attributes                               = [
        "custom:account_type",
        "custom:asset_count",
        "custom:hedera_account",
        "custom:kyc_status",
        "custom:last_activity",
        "custom:mate_balance",
        "custom:storage_used",
        "custom:subscription_tier",
        "email",
    ]
    refresh_token_validity                        = 30
    supported_identity_providers                  = [
        "COGNITO",
    ]
    user_pool_id                                  = "ap-southeast-2_bUngJqSfu"
    write_attributes                              = [
        "custom:account_type",
        "custom:asset_count",
        "custom:hedera_account",
        "custom:kyc_status",
        "custom:last_activity",
        "custom:mate_balance",
        "custom:storage_used",
        "custom:subscription_tier",
        "email",
    ]

    token_validity_units {
        access_token  = "hours"
        id_token      = "hours"
        refresh_token = "days"
    }
}
